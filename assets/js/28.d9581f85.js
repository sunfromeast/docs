(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{249:function(a,s,e){"use strict";e.r(s);var t=e(0),n=Object(t.a)({},function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"kubeadm安装kubernetes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kubeadm安装kubernetes","aria-hidden":"true"}},[a._v("#")]),a._v(" Kubeadm安装kubernetes")]),a._v(" "),e("h2",{attrs:{id:"kubernetes简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes简介","aria-hidden":"true"}},[a._v("#")]),a._v(" Kubernetes简介")]),a._v(" "),e("p",[a._v("K8s集群有管理节点master和工作节点node两种类型，其中，管理节点主要负责K8s集群管理（包括：集群各节点间的交互，任务调度，还负责容器、pod、Namespaces，PV等生命周期的管理）；工作节点主要为容器和pod的运行提供计算资源。容器和pod全部运行在工作节点上，工作节点通过kubelet服务和管理节点通信以管理容器的生命周期，并与集群其他节点通信。")]),a._v(" "),e("h2",{attrs:{id:"环境准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环境准备","aria-hidden":"true"}},[a._v("#")]),a._v(" 环境准备")]),a._v(" "),e("p",[a._v("Kubernetes支持在物理服务器或虚拟机中运行，本次使用虚拟机准备测试")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("IP地址")]),a._v(" "),e("th",[a._v("节点角色")]),a._v(" "),e("th",[a._v("Hostname")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[a._v("192.168.144.3")]),a._v(" "),e("td",[a._v("master")]),a._v(" "),e("td",[a._v("k8s-master")])]),a._v(" "),e("tr",[e("td",[a._v("192.168.144.4")]),a._v(" "),e("td",[a._v("node")]),a._v(" "),e("td",[a._v("k8s-node1")])]),a._v(" "),e("tr",[e("td",[a._v("192.168.144.5")]),a._v(" "),e("td",[a._v("node")]),a._v(" "),e("td",[a._v("k8s-node2")])])])]),a._v(" "),e("p",[e("font",{attrs:{color:"red"}},[a._v("所有节点进行如下操作")])],1),a._v(" "),e("h3",{attrs:{id:"设置主机名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置主机名","aria-hidden":"true"}},[a._v("#")]),a._v(" 设置主机名")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[a._v("hostnamectl set-hostname k8s-master\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("blockquote",[e("p",[a._v("需要设置其他主机名时，可将k8s-master替换为k8s-node1、k8s-node2。")])]),a._v(" "),e("h3",{attrs:{id:"添加域名解析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加域名解析","aria-hidden":"true"}},[a._v("#")]),a._v(" 添加域名解析")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[a._v("cat <"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("EOF")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("> /etc/hosts\n192.168.144.3 k8s-master\n192.168.144.4 k8s-node1\n192.168.144.5 k8s-node2\nEOF\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("h3",{attrs:{id:"关闭防火墙、selinux、swap"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关闭防火墙、selinux、swap","aria-hidden":"true"}},[a._v("#")]),a._v(" 关闭防火墙、selinux、swap")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[e("span",{pre:!0,attrs:{class:"token title important"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("#")]),a._v(" 关闭防火墙")]),a._v("\nsystemctl stop firewalld\nsystemctl disable firewalld\n"),e("span",{pre:!0,attrs:{class:"token title important"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("#")]),a._v(" 关闭selinux，并永久关闭")]),a._v('\nsetenforce 0\nsed -i "s/^SELINUX=enforcing/SELINUX=disabled/g" /etc/selinux/config\n'),e("span",{pre:!0,attrs:{class:"token title important"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("#")]),a._v(" 关闭swap")]),a._v('\nswapoff -a \nsed -i "s/.'),e("span",{pre:!0,attrs:{class:"token italic"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("*")]),e("span",{pre:!0,attrs:{class:"token content"}},[a._v("swap.")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("*")])]),a._v('/#&/" /etc/fstab\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br")])]),e("h3",{attrs:{id:"配置内核参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置内核参数","aria-hidden":"true"}},[a._v("#")]),a._v(" 配置内核参数")]),a._v(" "),e("p",[a._v("将桥接IPV4流量传递到iptables的链")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[a._v("cat > /etc/sysctl.d/k8s.conf <<EOF\nnet.bridge.bridge-nf-call-ip6tables = 1\nnet.bridge.bridge-nf-call-iptables = 1\nEOF\n\nsysctl --system\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br")])]),e("h3",{attrs:{id:"配置国内yum源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置国内yum源","aria-hidden":"true"}},[a._v("#")]),a._v(" 配置国内yum源")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[a._v("yum install -y wget\n\nmkdir /etc/yum.repos.d/bak && mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak\n\nwget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.cloud.tencent.com/repo/centos7_base.repo\n\nwget -O /etc/yum.repos.d/epel.repo http://mirrors.cloud.tencent.com/repo/epel-7.repo\n\nyum clean all && yum makecache\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br")])]),e("blockquote",[e("p",[a._v("关于镜像源的配置可以在"),e("a",{attrs:{href:"https://opsx.alibaba.com/mirror",target:"_blank",rel:"noopener noreferrer"}},[a._v("阿里云镜像源网站"),e("OutboundLink")],1),a._v("上找到，直接点击镜像后面的"),e("code",[a._v("Help")]),a._v("。")])]),a._v(" "),e("h3",{attrs:{id:"配置国内kubernetes源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置国内kubernetes源","aria-hidden":"true"}},[a._v("#")]),a._v(" 配置国内Kubernetes源")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[a._v("cat <"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("EOF")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" /etc/yum.repos.d/kubernetes.repo\n[kubernetes]\nname=Kubernetes\nbaseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86"),e("span",{pre:!0,attrs:{class:"token italic"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("_")]),e("span",{pre:!0,attrs:{class:"token content"}},[a._v("64/\nenabled=1\ngpgcheck=1\nrepo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("_")])]),a._v("gpgcheck=1\ngpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg\nEOF\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br")])]),e("h3",{attrs:{id:"配置docker源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置docker源","aria-hidden":"true"}},[a._v("#")]),a._v(" 配置Docker源")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[a._v("wget https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo -O /etc/yum.repos.d/docker-ce.repo\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"集群安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集群安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 集群安装")]),a._v(" "),e("p",[e("font",{attrs:{color:"red"}},[a._v("所有节点进行如下操作")])],1),a._v(" "),e("h3",{attrs:{id:"安装docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装docker","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装Docker")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[a._v("yum install -y docker-ce-18.06.1.ce-3.el7\n\nsystemctl enable docker && systemctl start docker\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("blockquote",[e("p",[a._v("docker为容器运行提供计算资源，是所有容器运行的基本平台。")])]),a._v(" "),e("h3",{attrs:{id:"安装kubeadm、kubelet、kubectl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装kubeadm、kubelet、kubectl","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装kubeadm、kubelet、kubectl")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[a._v("yum install -y kubelet kubeadm kubectl \nsystemctl enable kubelet\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("blockquote",[e("p",[a._v("kubeadm是kubernetes的自动化部署工具，降低部署难度。")]),a._v(" "),e("p",[a._v("kubelet负责与集群的其他节点通信，并负责本节点pod和容器生命周期的管理。")]),a._v(" "),e("p",[a._v("kubectl是kubernetes的命令行管理工具。")])]),a._v(" "),e("h3",{attrs:{id:"部署master节点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署master节点","aria-hidden":"true"}},[a._v("#")]),a._v(" 部署master节点")]),a._v(" "),e("p",[e("font",{attrs:{color:"red"}},[a._v("在master节点进行如下操作")])],1),a._v(" "),e("ol",[e("li",[e("p",[a._v("kubernetes集群初始化")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[a._v("kubeadm init \\\n\n--kubernetes-version=1.14.2 \\\n\n--apiserver-advertise-address=192.168.144.3 \\\n\n--image-repository registry.aliyuncs.com/google_containers \\\n\n--service-cidr=10.96.0.0/16 \\\n\n--pod-network-cidr=10.244.0.0/16\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br")])]),e("blockquote",[e("p",[a._v("kubeadm初始化集群，主要需要指定：kubernetes版本、apiserver地址（master本机ip地址）、service网段和pod网段。当然，由于kubeadm默认从谷歌官网的k8s.gcr.io下载镜像，国内无法访问的，所以需要指定国内的镜像源地址。")])]),a._v(" "),e("p",[a._v("记录生成的内容，此内容需要在其他节点加入集群是执行。")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[a._v("kubeadm join 192.168.144.3:6443 --token 9g25gj.d9cuo23mfhz8v14y     --discovery-token-ca-cert-hash sha256:add796399a7d68acaea8c253df5aed1833e01da8a9b787b71759ad3c2641f037\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("如果上面"),e("code",[a._v("kubeadm join")]),a._v("内容搞忘了，可以使用下面的命令重新获取")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[e("span",{pre:!0,attrs:{class:"token title important"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("#")]),a._v(" master上执行")]),a._v("\nkubeadm token create --print-join-command\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("配置kubectl工具")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[a._v("mkdir -p /root/.kube\n\ncp /etc/kubernetes/admin.conf /root/.kube/config\n\nkubectl get nodes\n\nkubectl get cs\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br")])])])]),a._v(" "),e("h3",{attrs:{id:"部署node节点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署node节点","aria-hidden":"true"}},[a._v("#")]),a._v(" 部署node节点")]),a._v(" "),e("p",[e("font",{attrs:{color:"red"}},[a._v("以下操作在所有node上执行")])],1),a._v(" "),e("p",[a._v("在所有node上执行"),e("code",[a._v("kubeadm join")]),a._v("命令加入集群")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[a._v("kubeadm join 192.168.144.3:6443 --token 9g25gj.d9cuo23mfhz8v14y     --discovery-token-ca-cert-hash sha256:add796399a7d68acaea8c253df5aed1833e01da8a9b787b71759ad3c2641f037\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h3",{attrs:{id:"部署网络"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署网络","aria-hidden":"true"}},[a._v("#")]),a._v(" 部署网络")]),a._v(" "),e("p",[a._v("经过"),e("code",[a._v("kubeadm join")]),a._v("所有节点都加入了集群，但他们的状态都是"),e("code",[a._v("Not Ready")]),a._v("，原因是集群内部的网络没有打通。")]),a._v(" "),e("ol",[e("li",[e("p",[a._v("部署flannel网络")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[a._v("kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/a70459be0084506e4ec919aa1c114638878db11b/Documentation/kube-flannel.yml\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])])]),a._v(" "),e("h3",{attrs:{id:"集群状态检测"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集群状态检测","aria-hidden":"true"}},[a._v("#")]),a._v(" 集群状态检测")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[e("span",{pre:!0,attrs:{class:"token title important"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("#")]),a._v(" 查看所有节点是否正常,STATUS是Ready，说明集群状态正常")]),a._v("\nkubectl get node\n\n"),e("span",{pre:!0,attrs:{class:"token title important"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("#")]),a._v(" 创建pod验证集群是否正常")]),a._v("\nkubectl create deployment nginx --image=nginx\nkubectl expose deployment nginx --port=80 --type=NodePort\nkubectl get pod,svc\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br")])]),e("h3",{attrs:{id:"移除worker节点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#移除worker节点","aria-hidden":"true"}},[a._v("#")]),a._v(" 移除Worker节点")]),a._v(" "),e("div",{staticClass:"language-markdown line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-markdown"}},[e("code",[e("span",{pre:!0,attrs:{class:"token title important"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("#")]),a._v(" 在准备移除的worker节点执行")]),a._v("\nkubeadm reset\n"),e("span",{pre:!0,attrs:{class:"token title important"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("#")]),a._v(" 在master节点执行")]),a._v("\nkubectl delete node "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("node-name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])])])},[],!1,null,null,null);s.default=n.exports}}]);