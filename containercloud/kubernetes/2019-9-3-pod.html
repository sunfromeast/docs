<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>pod的yaml文件定义 | YGTAO</title>
    <meta name="description" content="非学无以广才，非志无以成学">
    
    
    <link rel="preload" href="/docs/assets/css/0.styles.430309d1.css" as="style"><link rel="preload" href="/docs/assets/js/app.98b1b838.js" as="script"><link rel="preload" href="/docs/assets/js/2.fbd0f029.js" as="script"><link rel="preload" href="/docs/assets/js/8.b2d53e98.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.7e9ca6bf.js"><link rel="prefetch" href="/docs/assets/js/11.e4324770.js"><link rel="prefetch" href="/docs/assets/js/12.d1b931cd.js"><link rel="prefetch" href="/docs/assets/js/13.e3913e7d.js"><link rel="prefetch" href="/docs/assets/js/14.481621c4.js"><link rel="prefetch" href="/docs/assets/js/15.1be8de18.js"><link rel="prefetch" href="/docs/assets/js/16.3e052bc3.js"><link rel="prefetch" href="/docs/assets/js/17.90812fdd.js"><link rel="prefetch" href="/docs/assets/js/18.051948c5.js"><link rel="prefetch" href="/docs/assets/js/19.a628549a.js"><link rel="prefetch" href="/docs/assets/js/20.47ca6f8b.js"><link rel="prefetch" href="/docs/assets/js/21.4987dc80.js"><link rel="prefetch" href="/docs/assets/js/22.277c3ac0.js"><link rel="prefetch" href="/docs/assets/js/23.8f1d3525.js"><link rel="prefetch" href="/docs/assets/js/24.58c831bf.js"><link rel="prefetch" href="/docs/assets/js/25.3cf34719.js"><link rel="prefetch" href="/docs/assets/js/26.29504454.js"><link rel="prefetch" href="/docs/assets/js/27.0283fa1f.js"><link rel="prefetch" href="/docs/assets/js/28.d9581f85.js"><link rel="prefetch" href="/docs/assets/js/29.bd14f7a0.js"><link rel="prefetch" href="/docs/assets/js/3.685d3d93.js"><link rel="prefetch" href="/docs/assets/js/30.13ca16a9.js"><link rel="prefetch" href="/docs/assets/js/31.b60cff58.js"><link rel="prefetch" href="/docs/assets/js/32.8224a326.js"><link rel="prefetch" href="/docs/assets/js/33.329ea19d.js"><link rel="prefetch" href="/docs/assets/js/34.0643ae8a.js"><link rel="prefetch" href="/docs/assets/js/35.f423a121.js"><link rel="prefetch" href="/docs/assets/js/36.e1ab1f2e.js"><link rel="prefetch" href="/docs/assets/js/37.e46bd7b3.js"><link rel="prefetch" href="/docs/assets/js/38.810db745.js"><link rel="prefetch" href="/docs/assets/js/39.7f03ade6.js"><link rel="prefetch" href="/docs/assets/js/4.b33a4828.js"><link rel="prefetch" href="/docs/assets/js/40.6d65eeea.js"><link rel="prefetch" href="/docs/assets/js/41.e5d2db89.js"><link rel="prefetch" href="/docs/assets/js/42.0618af06.js"><link rel="prefetch" href="/docs/assets/js/43.feddb362.js"><link rel="prefetch" href="/docs/assets/js/44.7e8f1637.js"><link rel="prefetch" href="/docs/assets/js/45.60a8cb44.js"><link rel="prefetch" href="/docs/assets/js/46.5969b6a6.js"><link rel="prefetch" href="/docs/assets/js/47.8d42c32f.js"><link rel="prefetch" href="/docs/assets/js/48.6d5a4798.js"><link rel="prefetch" href="/docs/assets/js/49.33bdd943.js"><link rel="prefetch" href="/docs/assets/js/5.6c13e633.js"><link rel="prefetch" href="/docs/assets/js/50.ad999b46.js"><link rel="prefetch" href="/docs/assets/js/51.696fe0f8.js"><link rel="prefetch" href="/docs/assets/js/52.dc345021.js"><link rel="prefetch" href="/docs/assets/js/53.0ff3d1fa.js"><link rel="prefetch" href="/docs/assets/js/54.f2a30034.js"><link rel="prefetch" href="/docs/assets/js/55.9a115f86.js"><link rel="prefetch" href="/docs/assets/js/56.fc5f8a21.js"><link rel="prefetch" href="/docs/assets/js/57.72313323.js"><link rel="prefetch" href="/docs/assets/js/6.4941188b.js"><link rel="prefetch" href="/docs/assets/js/7.4e14eb19.js"><link rel="prefetch" href="/docs/assets/js/9.a766f1bb.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.430309d1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">YGTAO</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Java相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/java/javabase/" class="nav-link">Java基础</a></li><li class="dropdown-subitem"><a href="/docs/java/spring/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/docs/java/springboot/" class="nav-link">SpringBoot</a></li><li class="dropdown-subitem"><a href="/docs/java/springcloud/" class="nav-link">SpringCloud</a></li></ul></li><li class="dropdown-item"><h4>进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/containercloud/kubernetes/.html" class="nav-link">Java虚拟机</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Linux相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/linux/linuxbase/" class="nav-link">Linux基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">容器云相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Kubernetes相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/containercloud/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/docs/containercloud/kubernetes/" class="nav-link router-link-active">Kubernetes</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/docs/frontend/" class="nav-link">前端相关</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">源码</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/sourcecode/springboot/" class="nav-link">SpringBoot源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/tools/vuepress/" class="nav-link">vuepress使用</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/others/offer/" class="nav-link">剑指offer</a></li></ul></div></div> <a href="https://github.com/sunfromeast/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Java相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/java/javabase/" class="nav-link">Java基础</a></li><li class="dropdown-subitem"><a href="/docs/java/spring/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/docs/java/springboot/" class="nav-link">SpringBoot</a></li><li class="dropdown-subitem"><a href="/docs/java/springcloud/" class="nav-link">SpringCloud</a></li></ul></li><li class="dropdown-item"><h4>进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/containercloud/kubernetes/.html" class="nav-link">Java虚拟机</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Linux相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/linux/linuxbase/" class="nav-link">Linux基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">容器云相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Kubernetes相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/containercloud/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/docs/containercloud/kubernetes/" class="nav-link router-link-active">Kubernetes</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/docs/frontend/" class="nav-link">前端相关</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">源码</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/sourcecode/springboot/" class="nav-link">SpringBoot源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/tools/vuepress/" class="nav-link">vuepress使用</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/others/offer/" class="nav-link">剑指offer</a></li></ul></div></div> <a href="https://github.com/sunfromeast/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/containercloud/kubernetes/" class="sidebar-link">前言</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基础介绍</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>部署指南</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>资源对象</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html" class="active sidebar-link">Pod</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#pod的yaml文件定义" class="sidebar-link">pod的yaml文件定义</a></li><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#pod的原理" class="sidebar-link">pod的原理</a></li><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#pod资源对象" class="sidebar-link">pod资源对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#sidecar模型" class="sidebar-link">Sidecar模型</a></li><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#ambassador模型" class="sidebar-link">Ambassador模型</a></li><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#adapter模型" class="sidebar-link">Adapter模型</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#pod的生命周期" class="sidebar-link">pod的生命周期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#几个状态" class="sidebar-link">几个状态</a></li><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#pod创建过程" class="sidebar-link">pod创建过程</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#projected-volume" class="sidebar-link">Projected Volume</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#secret" class="sidebar-link"></a></li><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#configmap" class="sidebar-link"></a></li><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#downward-api" class="sidebar-link"></a></li><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#service-account" class="sidebar-link"></a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/containercloud/kubernetes/2019-9-3-pod.html#podpreset-pod预设置" class="sidebar-link">PodPreset(Pod预设置)</a></li></ul></li><li><a href="/docs/containercloud/kubernetes/2019-8-31-secret.html" class="sidebar-link">Secret</a></li><li><a href="/docs/containercloud/kubernetes/2019-10-18-StatefulSet.html" class="sidebar-link">StatefulSet</a></li><li><a href="/docs/containercloud/kubernetes/2019-10-19-DaemonSet.html" class="sidebar-link">DaemonSet</a></li><li><a href="/docs/containercloud/kubernetes/2019-10-19-CronJob.html" class="sidebar-link">CronJob</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>资源管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>服务发现</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>存储卷和数据持久化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>认证授权与准入控制</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络模型和策略</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他组件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Helm包管理器</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="pod的yaml文件定义"><a href="#pod的yaml文件定义" aria-hidden="true" class="header-anchor">#</a> pod的yaml文件定义</h2> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> two<span class="token punctuation">-</span>containers
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">restartPolicy</span><span class="token punctuation">:</span> Never
  <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> shared<span class="token punctuation">-</span>data
    <span class="token key atrule">hostPath</span><span class="token punctuation">:</span>      
      <span class="token key atrule">path</span><span class="token punctuation">:</span> /data
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>container
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> shared<span class="token punctuation">-</span>data
      <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /usr/share/nginx/html
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> debian<span class="token punctuation">-</span>container
    <span class="token key atrule">image</span><span class="token punctuation">:</span> debian
    <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> shared<span class="token punctuation">-</span>data
      <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /pod<span class="token punctuation">-</span>data
    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;/bin/sh&quot;</span><span class="token punctuation">]</span>
    <span class="token key atrule">args</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;-c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;echo Hello from the debian container &gt; /pod-data/index.html&quot;</span><span class="token punctuation">]</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>pod中的几个重要字段：除了传统的apiVersion、kind、metadta、spec、status外</p> <ul><li><p><code>.spec.hostAliases</code>：定义pod中hosts（/etc/hosts）内容</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>apiVersion: v1
kind: Pod
...
spec:
  hostAliases:
  <span class="token list punctuation">-</span> ip: &quot;10.1.2.3&quot;
    hostnames:
    <span class="token list punctuation">-</span> &quot;foo.remote&quot;
    <span class="token list punctuation">-</span> &quot;bar.remote&quot;
...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p><code>.spec.containers.lifecycle</code>：定义容器生命周期钩子，在容器生命周期中，当容器的状态发生改变时，将触发一系列钩子。</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>apiVersion: v1
kind: Pod
metadata:
  name: lifecycle-demo
spec:
  containers:
  <span class="token list punctuation">-</span> name: lifecycle-demo-container
    image: nginx
    lifecycle:
      postStart:
        exec:
          command: [&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;echo Hello from the postStart handler &gt; /usr/share/message&quot;]
      preStop:
        exec:
          command: [&quot;/usr/sbin/nginx&quot;,&quot;-s&quot;,&quot;quit&quot;]

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><ul><li>postStart：定义容器启动后立即执行的动作。不过注意，这个动作和容器的ENTRYPOINT并不是同步的，换句话说，它不保证顺序，postStart启动时，ENTRYPOINT可能还没有结束。</li> <li>preStop：定义容器杀死前执行的动作。preStop和杀死容器是同步阻塞的，也就是说，preStop没有执行完成，那么杀死容器就不能执行。</li></ul></blockquote></li></ul> <h2 id="pod的原理"><a href="#pod的原理" aria-hidden="true" class="header-anchor">#</a> pod的原理</h2> <ul><li><p><font color="red">pod的一个重要事实：它只是一个逻辑概念。</font></p> <blockquote><p>kubernetes真正处理的，还是宿主机上的Linux容器的namespace和cgroups。并不存在所谓的pod边界或者隔离环境。pod实际上是一组共享了资源的容器。具体的说，pod中的所有容器共享了同一个Network Namespace和相同的volume。</p></blockquote></li> <li><p><font color="red">既然是共享Network Space和volume，那么是A共享B、还是B共享A，还是其他方式呢？</font></p> <blockquote><p>假如，有包含A和B两个容器的pod，如果容器A共享容器B的资源，那么：</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>docker run --net=B --volumes-from=B --name=A image-A
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果真是这样的话，需要容器B在容器A之前启动，A和B就不是对等关系，而变成拓扑关系了。所以，pod的实现需要一个中间容器。</p></blockquote></li> <li><p><font color="red">实现pod的中间容器：</font></p> <blockquote><p>实现pod的中间容器，也叫Infra容器（镜像是<code>k8s.gcr.io/pause</code>，镜像很小，容器处于暂停状态）。一个pod中Infra容器是第一个被启动的容器。用户定义的容器，通过Join Network Namespace，与Infra容器关联在一起。</p> <p><img src="/docs/assets/img/pod-infra.f196eb15.png" alt=""></p> <p>也就是说，对容器A和B来说：</p> <ul><li>可以直接使用localhost通信，因为他们都共享的是Infra的网络命名空间</li> <li>一个Pod对应一个IP地址，也就是Pod的Network Namespace对应的IP地址。</li> <li>Pod的生命周期只和Infra容器一致，与容器A和B无关。</li></ul></blockquote></li></ul> <h2 id="pod资源对象"><a href="#pod资源对象" aria-hidden="true" class="header-anchor">#</a> pod资源对象</h2> <p>pod资源对象用于运行单个容器化的应用，此应用称为pod对象的主容器，当然，pod也能同时容纳多个容器，额外的容器一般的工作模型有一下几种：</p> <h3 id="sidecar模型"><a href="#sidecar模型" aria-hidden="true" class="header-anchor">#</a> Sidecar模型</h3> <p>这个模型是为pod中的主容器提供协同的辅助应用容器。例如：主应用容器中的日志使用agent收集到日志服务器中，agent作为辅助应用容器。</p> <h3 id="ambassador模型"><a href="#ambassador模型" aria-hidden="true" class="header-anchor">#</a> Ambassador模型</h3> <p>这个模型是为远程服务在pod中创建一个本地代理，pod中的主容器通过代理容器访问远程服务。例如：主应用容器访问远程一主多从模型的远程Redis应用时，可以在当前容器中为远程Redis创建一个本地代理Ambassador container，主应用容器直接通过localhost接口访问Ambassador接口即可，这样，Redis有修改的话，不用修改主容器，只需要修改这个代理容器即可。</p> <h3 id="adapter模型"><a href="#adapter模型" aria-hidden="true" class="header-anchor">#</a> Adapter模型</h3> <p>一般用于不兼容时做适配，如：容器日志格式化输出。</p> <h2 id="pod的生命周期"><a href="#pod的生命周期" aria-hidden="true" class="header-anchor">#</a> pod的生命周期</h2> <h3 id="几个状态"><a href="#几个状态" aria-hidden="true" class="header-anchor">#</a> 几个状态</h3> <p>pod在生命周期中有一下几个状态：</p> <table><thead><tr><th>状态</th> <th>说明</th></tr></thead> <tbody><tr><td>pending</td> <td>API Server创建pod资源对象已经存入etcd，尚未调度完成或正在下载镜像</td></tr> <tr><td>Running</td> <td>pod已被调度，所有容器都已被kubelet创建完成</td></tr> <tr><td>Successed</td> <td>pod中所有容器都已经终止并不会重启</td></tr> <tr><td>Failed</td> <td>所有容器都已终止，且至少一个非正常终止（返回非0值）</td></tr> <tr><td>Unknown</td> <td>APIServer无法获取pod的状态信息，通常是无法和工作节点上的kubelet通信所致</td></tr></tbody></table> <h3 id="pod创建过程"><a href="#pod创建过程" aria-hidden="true" class="header-anchor">#</a> pod创建过程</h3> <ol><li>客户端（kubectl等）提交pod spec给APIServer。</li> <li>APIServer尝试将pod对象的相关信息写入etcd，写入操作完成，APIServer会返回信息给客户端。</li> <li>APIServer将会一直反映etcd中的状态变化
<ol><li>kubernetes所有组件均使用“watch”机制跟踪检查APIServer上的相关变动。</li> <li>kube-scheduler的“watcher”察觉到APIServer创建了一个新的pod，还没有绑定到任何节点，然后，它就为pod挑选了一个工作节点并将信息更新至APIServer。</li> <li>APIServer将调度结果更新至etcd，同时，它会反映出pod对象的调度结果。</li> <li>pod所在节点上的kubelet尝试在当前节点调用docker启动容器，并将容器的启动状态返回给APIServer。</li> <li>APIServer将pod状态信息存入etcd系统中，将存储结果发送到相关的kubelet。</li></ol></li></ol> <h2 id="projected-volume"><a href="#projected-volume" aria-hidden="true" class="header-anchor">#</a> Projected Volume</h2> <p><font color="red">Projected Volume</font></p> <blockquote><p>为容器提供预先定义好的数据。（不是存放容器里的数据，也不是进行容器和宿主机之间的数据交换）、</p></blockquote> <p><font color="red">Projected Volume支持的四种类型：</font></p> <blockquote><ul><li>Secret</li> <li>ConfigMap</li> <li>Downward API</li> <li>ServiceAccountToken</li></ul></blockquote> <h3 id="secret"><a href="#secret" aria-hidden="true" class="header-anchor">#</a> <font color="red">Secret</font></h3> <p>一般保存的是密码信息</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>projected<span class="token punctuation">-</span>volume 
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>secret<span class="token punctuation">-</span>volume
    <span class="token key atrule">image</span><span class="token punctuation">:</span> busybox
    <span class="token key atrule">args</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> sleep
    <span class="token punctuation">-</span> <span class="token string">&quot;86400&quot;</span>
    <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> mysql<span class="token punctuation">-</span>cred
      <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> <span class="token string">&quot;/projected-volume&quot;</span>
      <span class="token key atrule">readOnly</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> mysql<span class="token punctuation">-</span>cred
    <span class="token key atrule">projected</span><span class="token punctuation">:</span>
      <span class="token key atrule">sources</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">secret</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> user
      <span class="token punctuation">-</span> <span class="token key atrule">secret</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> pass

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>cat ./username.txt
admin
$ cat ./password.txt
c1oudc0w!

$ kubectl create secret generic user --from-file=./username.txt
$ kubectl create secret generic pass --from-file=./password.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="configmap"><a href="#configmap" aria-hidden="true" class="header-anchor">#</a> <font color="red">ConfigMap</font></h3> <p>一般保存的是应用的配置信息，用法和secret类似。</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># .properties 文件的内容</span>
$ cat example/ui.properties
color.good=purple
color.bad=yellow
allow.textmode=true
how.nice.to.look=fairlyNice

<span class="token comment"># 从.properties 文件创建 ConfigMap</span>
$ kubectl create configmap ui<span class="token punctuation">-</span>config <span class="token punctuation">-</span><span class="token punctuation">-</span>from<span class="token punctuation">-</span>file=example/ui.properties

<span class="token comment"># 查看这个 ConfigMap 里保存的信息 (data)</span>
$ kubectl get configmaps ui<span class="token punctuation">-</span>config <span class="token punctuation">-</span>o yaml
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">data</span><span class="token punctuation">:</span>
  <span class="token key atrule">ui.properties</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
    color.good=purple
    color.bad=yellow
    allow.textmode=true
    how.nice.to.look=fairlyNice</span>
<span class="token key atrule">kind</span><span class="token punctuation">:</span> ConfigMap
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> ui<span class="token punctuation">-</span>config
  <span class="token punctuation">...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="downward-api"><a href="#downward-api" aria-hidden="true" class="header-anchor">#</a> <font color="red">Downward API</font></h3> <p>作用：让pod里的容器可以直接获取到这个Pod API对象本身的信息</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>downwardapi<span class="token punctuation">-</span>volume
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">zone</span><span class="token punctuation">:</span> us<span class="token punctuation">-</span>est<span class="token punctuation">-</span>coast
    <span class="token key atrule">cluster</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>cluster1
    <span class="token key atrule">rack</span><span class="token punctuation">:</span> rack<span class="token punctuation">-</span><span class="token number">22</span>
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> client<span class="token punctuation">-</span>container
      <span class="token key atrule">image</span><span class="token punctuation">:</span> k8s.gcr.io/busybox
      <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;sh&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-c&quot;</span><span class="token punctuation">]</span>
      <span class="token key atrule">args</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> while true; do
          if <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token punctuation">-</span>e /etc/podinfo/labels <span class="token punctuation">]</span><span class="token punctuation">]</span>; then
            echo <span class="token punctuation">-</span>en '\n\n'; cat /etc/podinfo/labels; fi;
          sleep 5;
        done;
      <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> podinfo
          <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /etc/podinfo
          <span class="token key atrule">readOnly</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> podinfo
      <span class="token key atrule">projected</span><span class="token punctuation">:</span>
        <span class="token key atrule">sources</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">downwardAPI</span><span class="token punctuation">:</span>
            <span class="token key atrule">items</span><span class="token punctuation">:</span>
              <span class="token punctuation">-</span> <span class="token key atrule">path</span><span class="token punctuation">:</span> <span class="token string">&quot;labels&quot;</span>
                <span class="token key atrule">fieldRef</span><span class="token punctuation">:</span>
                  <span class="token key atrule">fieldPath</span><span class="token punctuation">:</span> metadata.labels
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>暴露了Pod的metadata.labels信息给容器</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code>kubectl create <span class="token punctuation">-</span>f dapi<span class="token punctuation">-</span>volume.yaml
$ kubectl logs test<span class="token punctuation">-</span>downwardapi<span class="token punctuation">-</span>volume
cluster=&quot;test<span class="token punctuation">-</span>cluster1&quot;
rack=&quot;rack<span class="token punctuation">-</span>22&quot;
zone=&quot;us<span class="token punctuation">-</span>est<span class="token punctuation">-</span>coast&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>注意：</p> <ol><li>Downward API能够获取到的信息，一定是Pod里的容器进程启动之前能够确定下来的信息。</li></ol></blockquote> <h3 id="service-account"><a href="#service-account" aria-hidden="true" class="header-anchor">#</a> <font color="red">Service Account</font></h3> <p>​	解决服务访问Kubernetes时，APIServer对服务的授权。Service Account是一种特殊的Secret，叫做ServiceAccountToken。它里面保存的是APIServer的授权信息，也就是token，有这个token，才可以合法方二万APIServer。</p> <p>​	在每个pod中，有一个名为：default-token-xxx的volume，自动挂载在每个容器的一个固定目录上。</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code>$ kubectl describe pod test<span class="token punctuation">-</span>projected<span class="token punctuation">-</span>volume 
<span class="token key atrule">Volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">mysql-cred</span><span class="token punctuation">:</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span>                Projected (a volume that contains injected data from multiple sources)
    <span class="token key atrule">SecretName</span><span class="token punctuation">:</span>          user
    <span class="token key atrule">SecretOptionalName</span><span class="token punctuation">:</span>  &lt;nil<span class="token punctuation">&gt;</span>
    <span class="token key atrule">SecretName</span><span class="token punctuation">:</span>          pass
    <span class="token key atrule">SecretOptionalName</span><span class="token punctuation">:</span>  &lt;nil<span class="token punctuation">&gt;</span>
  <span class="token key atrule">default-token-hmh97</span><span class="token punctuation">:</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span>        Secret (a volume populated by a Secret)
    <span class="token key atrule">SecretName</span><span class="token punctuation">:</span>  default<span class="token punctuation">-</span>token<span class="token punctuation">-</span>hmh97
    <span class="token key atrule">Optional</span><span class="token punctuation">:</span>    <span class="token boolean important">false</span>
<span class="token punctuation">...</span>
	<span class="token key atrule">Mounts</span><span class="token punctuation">:</span>
      /projected<span class="token punctuation">-</span>volume from mysql<span class="token punctuation">-</span>cred (ro)
      /var/run/secrets/kubernetes.io/serviceaccount from default<span class="token punctuation">-</span>token<span class="token punctuation">-</span>hmh97 (ro)
<span class="token punctuation">...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>然后，容器就可以从<code>/var/run/secrets/kubernetes.io/serviceaccount</code>读取授权信息</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>ls /var/run/secrets/kubernetes.io/serviceaccount 
ca.crt namespace  token
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="podpreset-pod预设置"><a href="#podpreset-pod预设置" aria-hidden="true" class="header-anchor">#</a> PodPreset(Pod预设置)</h2> <p>为pod默认填充内容</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> settings.k8s.io/v1alpha1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> PodPreset
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> allow<span class="token punctuation">-</span>database
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">role</span><span class="token punctuation">:</span> frontend
  <span class="token key atrule">env</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> DB_PORT
      <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token string">&quot;6379&quot;</span>
  <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /cache
      <span class="token key atrule">name</span><span class="token punctuation">:</span> cache<span class="token punctuation">-</span>volume
  <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> cache<span class="token punctuation">-</span>volume
      <span class="token key atrule">emptyDir</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><blockquote><p>说明：</p> <ul><li>PodPreset 里定义的内容，只会在Pod对象创建之前追加在这个对象本身上，不会影响任何Pod的控制器的定义。</li> <li>同一个pod的多个PodPreset会合并，冲突字段不会修改。</li></ul></blockquote></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/sunfromeast/docs/edit/master/docs/containercloud/kubernetes/2019-9-3-pod.md" target="_blank" rel="noopener noreferrer">编辑文档</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2020-6-9 10:04:27 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/containercloud/kubernetes/2019-8-30-kubeadm.html" class="prev">
          Kubeadm部署集群
        </a></span> <span class="next"><a href="/docs/containercloud/kubernetes/2019-8-31-secret.html">
          Secret
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/docs/assets/js/app.98b1b838.js" defer></script><script src="/docs/assets/js/2.fbd0f029.js" defer></script><script src="/docs/assets/js/8.b2d53e98.js" defer></script>
  </body>
</html>
