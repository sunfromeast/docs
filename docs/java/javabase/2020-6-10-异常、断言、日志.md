# 异常、断言、日志

## 异常

### 异常分类

Java的异常层次结构

![](./images/exception.png)

> 说明：
>
> 1. 所有的异常都是由`Throable`继承而来的，在下一层分解为`Error`和`Exception`。
> 2. `Error`描述的是系统运行时的内部错误或者资源耗尽错误，应用程序不应该抛出这种类型的对象，如果抛出了，除了尽力使程序安全终止，其他的无能为力。
> 3. `Exception`下面又分为`RuntimeException`和`IOException`，程序错误导致的异常属于`RuntimeException`，程序本身没有错误，由`I/O`错误导致的异常属于`IOException`
> 4. `RuntimeException`包含：错误类型转换、数组越界、访问空指针等。如果出现`RuntimeException`，那一定是你的问题。
> 5. java将所有派生于`Error或者RuntimeException`的异常称为`非受检查异常`，其他异常属于`受检查异常`

### 声明受检查异常

自己编写方法时，不必将所有可能抛出的异常都进行声明，但是，在遇到下列情况时，应该抛出异常：

> 1. 调用一个抛出受检异常的方法，例如：`FileInputStream`
> 2. 程序运行中出现错误，并且利用`throws`抛出一个受检异常
> 3. 程序出现错误，例如出现数组越界异常
> 4. JVM或者运行时类库出现的内部错误
>
> 对于前两种情况，必须告诉调用这个方法的程序员所有可能抛出的异常。
>
> 对于第三种情况，不需要声明从`RuntimeException`继承的那些非受检异常，因为这些错误其实可以在程序中进行控制修正。
>
> 对于第四种情况，也就是`Error`，其实任何代码都具有抛出这类异常的潜能，我们本身对其没有控制能力。

### 异常抛出和自定义异常

一般系统提供了一些异常类，我们可以直接使用。当然，我们也可以自定义异常类，只需要定义一个派生于`Exception`或者`Exception子类`的类。定义的类应该包含两个构造器：一个默认构造器和一个带描述信息的构造器。



