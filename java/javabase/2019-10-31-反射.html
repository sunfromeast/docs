<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>反射 | YGTAO</title>
    <meta name="description" content="非学无以广才，非志无以成学">
    
    
    <link rel="preload" href="/docs/assets/css/0.styles.430309d1.css" as="style"><link rel="preload" href="/docs/assets/js/app.98b1b838.js" as="script"><link rel="preload" href="/docs/assets/js/2.fbd0f029.js" as="script"><link rel="preload" href="/docs/assets/js/37.e46bd7b3.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.7e9ca6bf.js"><link rel="prefetch" href="/docs/assets/js/11.e4324770.js"><link rel="prefetch" href="/docs/assets/js/12.d1b931cd.js"><link rel="prefetch" href="/docs/assets/js/13.e3913e7d.js"><link rel="prefetch" href="/docs/assets/js/14.481621c4.js"><link rel="prefetch" href="/docs/assets/js/15.1be8de18.js"><link rel="prefetch" href="/docs/assets/js/16.3e052bc3.js"><link rel="prefetch" href="/docs/assets/js/17.90812fdd.js"><link rel="prefetch" href="/docs/assets/js/18.051948c5.js"><link rel="prefetch" href="/docs/assets/js/19.a628549a.js"><link rel="prefetch" href="/docs/assets/js/20.47ca6f8b.js"><link rel="prefetch" href="/docs/assets/js/21.4987dc80.js"><link rel="prefetch" href="/docs/assets/js/22.277c3ac0.js"><link rel="prefetch" href="/docs/assets/js/23.8f1d3525.js"><link rel="prefetch" href="/docs/assets/js/24.58c831bf.js"><link rel="prefetch" href="/docs/assets/js/25.3cf34719.js"><link rel="prefetch" href="/docs/assets/js/26.29504454.js"><link rel="prefetch" href="/docs/assets/js/27.0283fa1f.js"><link rel="prefetch" href="/docs/assets/js/28.d9581f85.js"><link rel="prefetch" href="/docs/assets/js/29.bd14f7a0.js"><link rel="prefetch" href="/docs/assets/js/3.685d3d93.js"><link rel="prefetch" href="/docs/assets/js/30.13ca16a9.js"><link rel="prefetch" href="/docs/assets/js/31.b60cff58.js"><link rel="prefetch" href="/docs/assets/js/32.8224a326.js"><link rel="prefetch" href="/docs/assets/js/33.329ea19d.js"><link rel="prefetch" href="/docs/assets/js/34.0643ae8a.js"><link rel="prefetch" href="/docs/assets/js/35.f423a121.js"><link rel="prefetch" href="/docs/assets/js/36.e1ab1f2e.js"><link rel="prefetch" href="/docs/assets/js/38.810db745.js"><link rel="prefetch" href="/docs/assets/js/39.7f03ade6.js"><link rel="prefetch" href="/docs/assets/js/4.b33a4828.js"><link rel="prefetch" href="/docs/assets/js/40.6d65eeea.js"><link rel="prefetch" href="/docs/assets/js/41.e5d2db89.js"><link rel="prefetch" href="/docs/assets/js/42.0618af06.js"><link rel="prefetch" href="/docs/assets/js/43.feddb362.js"><link rel="prefetch" href="/docs/assets/js/44.7e8f1637.js"><link rel="prefetch" href="/docs/assets/js/45.60a8cb44.js"><link rel="prefetch" href="/docs/assets/js/46.5969b6a6.js"><link rel="prefetch" href="/docs/assets/js/47.8d42c32f.js"><link rel="prefetch" href="/docs/assets/js/48.6d5a4798.js"><link rel="prefetch" href="/docs/assets/js/49.33bdd943.js"><link rel="prefetch" href="/docs/assets/js/5.6c13e633.js"><link rel="prefetch" href="/docs/assets/js/50.ad999b46.js"><link rel="prefetch" href="/docs/assets/js/51.696fe0f8.js"><link rel="prefetch" href="/docs/assets/js/52.dc345021.js"><link rel="prefetch" href="/docs/assets/js/53.0ff3d1fa.js"><link rel="prefetch" href="/docs/assets/js/54.f2a30034.js"><link rel="prefetch" href="/docs/assets/js/55.9a115f86.js"><link rel="prefetch" href="/docs/assets/js/56.fc5f8a21.js"><link rel="prefetch" href="/docs/assets/js/57.72313323.js"><link rel="prefetch" href="/docs/assets/js/6.4941188b.js"><link rel="prefetch" href="/docs/assets/js/7.4e14eb19.js"><link rel="prefetch" href="/docs/assets/js/8.b2d53e98.js"><link rel="prefetch" href="/docs/assets/js/9.a766f1bb.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.430309d1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">YGTAO</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Java相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/java/javabase/" class="nav-link router-link-active">Java基础</a></li><li class="dropdown-subitem"><a href="/docs/java/spring/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/docs/java/springboot/" class="nav-link">SpringBoot</a></li><li class="dropdown-subitem"><a href="/docs/java/springcloud/" class="nav-link">SpringCloud</a></li></ul></li><li class="dropdown-item"><h4>进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/java/javabase/.html" class="nav-link">Java虚拟机</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Linux相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/linux/linuxbase/" class="nav-link">Linux基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">容器云相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Kubernetes相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/containercloud/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/docs/containercloud/kubernetes/" class="nav-link">Kubernetes</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/docs/frontend/" class="nav-link">前端相关</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">源码</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/sourcecode/springboot/" class="nav-link">SpringBoot源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/tools/vuepress/" class="nav-link">vuepress使用</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/others/offer/" class="nav-link">剑指offer</a></li></ul></div></div> <a href="https://github.com/sunfromeast/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Java相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/java/javabase/" class="nav-link router-link-active">Java基础</a></li><li class="dropdown-subitem"><a href="/docs/java/spring/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/docs/java/springboot/" class="nav-link">SpringBoot</a></li><li class="dropdown-subitem"><a href="/docs/java/springcloud/" class="nav-link">SpringCloud</a></li></ul></li><li class="dropdown-item"><h4>进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/java/javabase/.html" class="nav-link">Java虚拟机</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Linux相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/linux/linuxbase/" class="nav-link">Linux基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">容器云相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Kubernetes相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/containercloud/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/docs/containercloud/kubernetes/" class="nav-link">Kubernetes</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/docs/frontend/" class="nav-link">前端相关</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">源码</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/sourcecode/springboot/" class="nav-link">SpringBoot源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/tools/vuepress/" class="nav-link">vuepress使用</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/others/offer/" class="nav-link">剑指offer</a></li></ul></div></div> <a href="https://github.com/sunfromeast/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/java/javabase/" class="sidebar-link">前言</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>反射</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/java/javabase/2019-10-31-反射.html" class="active sidebar-link">反射</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/java/javabase/2019-10-31-反射.html#什么是反射" class="sidebar-link">什么是反射</a></li><li class="sidebar-sub-header"><a href="/docs/java/javabase/2019-10-31-反射.html#反射用途" class="sidebar-link">反射用途</a></li><li class="sidebar-sub-header"><a href="/docs/java/javabase/2019-10-31-反射.html#为什么需要反射" class="sidebar-link">为什么需要反射</a></li><li class="sidebar-sub-header"><a href="/docs/java/javabase/2019-10-31-反射.html#基础类" class="sidebar-link">基础类</a></li><li class="sidebar-sub-header"><a href="/docs/java/javabase/2019-10-31-反射.html#基本应用" class="sidebar-link">基本应用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/java/javabase/2019-10-31-反射.html#参考" class="sidebar-link">参考</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>接口</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>代理相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>异常相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>集合及源码</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="反射"><a href="#反射" aria-hidden="true" class="header-anchor">#</a> 反射</h1> <h2 id="什么是反射"><a href="#什么是反射" aria-hidden="true" class="header-anchor">#</a> 什么是反射</h2> <p>定义：反射可以在运行时根据指定的类名获得类的信息。</p> <p>反射主要提供的功能：</p> <blockquote><ol><li>运行时判断对象所属的类</li> <li>运行时判断一个类所具有的所有成员变量和方法的信息（包括：其modifiers，superclass，interface，field和method等），从而构造出类的对象或者调用对象的任何一个方法。</li></ol></blockquote> <h2 id="反射用途"><a href="#反射用途" aria-hidden="true" class="header-anchor">#</a> 反射用途</h2> <ol><li>IDE智能提示</li> <li>框架（如：spring）：框架一般需要配置，而为了保证其通用性，可能需要根据不同的配置文件加载不同的类，调用不同的方法，这个时候就需要用到反射。</li></ol> <h2 id="为什么需要反射"><a href="#为什么需要反射" aria-hidden="true" class="header-anchor">#</a> 为什么需要反射</h2> <p>java中编译类型有两种：</p> <blockquote><ol><li><p>静态编译：编译时确定类型，绑定对象即通过。</p></li> <li><p>动态编译：运行时确定类型，绑定对象。</p> <p>动态编译最大限度的发挥了java的灵活性，体现了多态的应用，可以降低类之间的耦合性。</p></li></ol></blockquote> <h2 id="基础类"><a href="#基础类" aria-hidden="true" class="header-anchor">#</a> 基础类</h2> <blockquote><ol><li>Class类：代表一个类</li> <li>Field类：代表类的成员变量（类的属性）</li> <li>Method类：代表类的方法</li> <li>Constructor类：代表类的构造方法</li> <li>Array类：提供了动态创建数组，以及访问数组的元素的静态方法</li></ol></blockquote> <p>Class类：描述类的类（也就是描述类本身），封装了描述方法的Method，描述变量的Field，描述构造器的Constructor等属性。</p> <blockquote><ol><li>对于每个类来说，JRE都为其保留了一个不变的Class类型的对象，这个Class对象包含了当前类的所有有关信息。</li> <li>Class对象只能由系统建立对象</li> <li>一个类在JVM中只有一个Class实例。</li></ol></blockquote> <h2 id="基本应用"><a href="#基本应用" aria-hidden="true" class="header-anchor">#</a> 基本应用</h2> <ul><li><p>获取class对象的方式</p> <blockquote><ul><li><code>Class.forName()</code></li> <li><code>对象.getClass()</code>方法</li> <li><code>类.class</code></li></ul></blockquote></li> <li><p>判断某个对象是否为某个类的实例</p> <blockquote><ul><li><code>class对象.isInstance(obj)</code></li></ul></blockquote></li> <li><p>根据class创建实例</p> <blockquote><ul><li>根据<code>class对象.newInstance()</code>方法，调用的是默认无参构造方法</li> <li>获取<code>Constructor</code>对象，调用<code>constructor对象.newInstance()</code>方法调用指定的构造函数</li></ul></blockquote></li> <li><p>获取变量</p> <blockquote><ul><li><code>getDeclaredFields()/getDeclaredField()</code>：获取当前类的所有成员变量，不包括父类</li> <li><code>getMethods()/getMethod()</code>：获取当前类及其父类的公有变量</li></ul></blockquote></li> <li><p>获取构造函数</p> <blockquote><ul><li><code>getDeclaredConsturctors()/getDeclaredConstructor()</code>：获取当前类所有构造函数，包括私有构造函数。</li> <li><code>getConstructors()/getConstructor()</code>：获取当前类的所有公有构造函数</li></ul></blockquote></li> <li><p>获取方法</p> <blockquote><p>基本和获取变量一样。</p></blockquote></li> <li><p>反射创建数组</p> <blockquote><ul><li><code>Array.newInstance(元素类型，数组大小)</code></li></ul></blockquote></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> reflect<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token comment">/**
 * @author: ygtao
 * @date: 2020/5/14 11:48
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReflectTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">InstantiationException</span><span class="token punctuation">,</span> <span class="token class-name">NoSuchMethodException</span><span class="token punctuation">,</span> <span class="token class-name">InvocationTargetException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;---------------------------1. 获取class对象的三种方式---------------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 1. 静态方法方式创建</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> aClass1 <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;reflect.Employee&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;使用Class.forName获取class对象：&quot;</span> <span class="token operator">+</span> aClass1<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2. 使用对象.getClass()获取class对象</span>
        <span class="token class-name">Employee</span> emp2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">2300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> aClass2 <span class="token operator">=</span> emp2<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;使用getClass()获取class对象：&quot;</span> <span class="token operator">+</span> aClass2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//3. 使用 类.class获取class对象</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> aClass3 <span class="token operator">=</span> <span class="token class-name">Employee</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;使用类.class获取class对象：&quot;</span> <span class="token operator">+</span> aClass3<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;---------------------------2. 判断是否为某个类的实例--------------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> isInstance <span class="token operator">=</span> aClass1<span class="token punctuation">.</span><span class="token function">isInstance</span><span class="token punctuation">(</span>emp2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;emp2是否为类对象aClass1的实例：&quot;</span> <span class="token operator">+</span> isInstance<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;---------------------------3. 创建实例---------------------------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//方式1. 使用class.newInstance()</span>
        <span class="token class-name">Employee</span> emp3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Employee</span><span class="token punctuation">)</span> aClass1<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//方式2. 获取Constructor对象</span>
        <span class="token class-name">Constructor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> constructor <span class="token operator">=</span> aClass1<span class="token punctuation">.</span><span class="token function">getConstructor</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Employee</span> emp4 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Employee</span><span class="token punctuation">)</span> constructor<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;调用class.newInstance()创建对象：&quot;</span> <span class="token operator">+</span> emp3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;调用Constructor.newInstance()创建对象：&quot;</span> <span class="token operator">+</span> emp4<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;---------------------------4. 获取方法----------------------------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;获取当前类对象所有的方法，包括私有方法，但不包括父类方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Method</span><span class="token punctuation">[</span><span class="token punctuation">]</span> declaredMethods <span class="token operator">=</span> aClass1<span class="token punctuation">.</span><span class="token function">getDeclaredMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Method</span> method <span class="token operator">:</span> declaredMethods<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;获取当前类指定的方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Method</span> method1 <span class="token operator">=</span> aClass1<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">&quot;getSalary&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>method1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;获取类的公有方法，包括父类&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Method</span><span class="token punctuation">[</span><span class="token punctuation">]</span> methods <span class="token operator">=</span> aClass1<span class="token punctuation">.</span><span class="token function">getMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Method</span> method <span class="token operator">:</span> methods<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------------------------5. 获取构造器方法---------------------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;获取当前类的构造器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Constructor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> declaredConstructors <span class="token operator">=</span> aClass1<span class="token punctuation">.</span><span class="token function">getDeclaredConstructors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Constructor</span> constructor1 <span class="token operator">:</span> declaredConstructors<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>constructor1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;获取当前类所有的公有构造器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Constructor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> constructors <span class="token operator">=</span> aClass1<span class="token punctuation">.</span><span class="token function">getConstructors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Constructor</span> constructor1 <span class="token operator">:</span> constructors<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>constructor1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-------------------------6. 获取类的成员变量-----------------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;获取当前类的所有成员变量&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> declaredFields <span class="token operator">=</span> aClass1<span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> field <span class="token operator">:</span> declaredFields<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;获取当前类的所有公共成员变量，包括父类公有成员&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Method</span><span class="token punctuation">[</span><span class="token punctuation">]</span> methods1 <span class="token operator">=</span> aClass1<span class="token punctuation">.</span><span class="token function">getMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Method</span> method <span class="token operator">:</span> methods1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------------------------7. 方法调用-----------------------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;调用getSalary()方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Method</span> getSalary <span class="token operator">=</span> aClass1<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">&quot;getSalary&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> invoke <span class="token operator">=</span> getSalary<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>emp4<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>invoke<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Method</span> setSalary <span class="token operator">=</span> aClass1<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">&quot;setSalary&quot;</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> invoke1 <span class="token operator">=</span> setSalary<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>emp4<span class="token punctuation">,</span> <span class="token number">4800</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>invoke1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> invoke2 <span class="token operator">=</span> getSalary<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>emp4<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>invoke2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;---------------------------8. 利用反射创建数组---------------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> o <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br></div></div><p>运行结果：</p> <blockquote><p>---------------------------1. 获取class对象的三种方式---------------------------------
使用Class.forName获取class对象：class reflect.Employee
使用getClass()获取class对象：class reflect.Employee
使用类.class获取class对象：class reflect.Employee
---------------------------2. 判断是否为某个类的实例--------------------------------
emp2是否为类对象aClass1的实例：true
---------------------------3. 创建实例---------------------------------------------
调用class.newInstance()创建对象：reflect.Employee@1b6d3586
调用Constructor.newInstance()创建对象：reflect.Employee@4554617c
---------------------------4. 获取方法----------------------------------------------
获取当前类对象所有的方法，包括私有方法，但不包括父类方法
public int reflect.Employee.getAge()
public void reflect.Employee.setAge(int)
public int reflect.Employee.getSalary()
public void reflect.Employee.setSalary(int)
获取当前类指定的方法
public int reflect.Employee.getSalary()
获取类的公有方法，包括父类
public int reflect.Employee.getAge()
public void reflect.Employee.setAge(int)
public int reflect.Employee.getSalary()
public void reflect.Employee.setSalary(int)
public void reflect.People.eat()
public final void java.lang.Object.wait() throws java.lang.InterruptedException
public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException
public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException
public boolean java.lang.Object.equals(java.lang.Object)
public java.lang.String java.lang.Object.toString()
public native int java.lang.Object.hashCode()
public final native java.lang.Class java.lang.Object.getClass()
public final native void java.lang.Object.notify()
public final native void java.lang.Object.notifyAll()
--------------------------5. 获取构造器方法---------------------------------------
获取当前类的构造器
private reflect.Employee(int)
public reflect.Employee(int,int)
public reflect.Employee()
获取当前类所有的公有构造器
public reflect.Employee(int,int)
public reflect.Employee()
-------------------------6. 获取类的成员变量-----------------------------------
获取当前类的所有成员变量
private int reflect.Employee.age
private int reflect.Employee.salary
获取当前类的所有公共成员变量，包括父类公有成员
public int reflect.Employee.getAge()
public void reflect.Employee.setAge(int)
public int reflect.Employee.getSalary()
public void reflect.Employee.setSalary(int)
public void reflect.People.eat()
public final void java.lang.Object.wait() throws java.lang.InterruptedException
public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException
public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException
public boolean java.lang.Object.equals(java.lang.Object)
public java.lang.String java.lang.Object.toString()
public native int java.lang.Object.hashCode()
public final native java.lang.Class java.lang.Object.getClass()
public final native void java.lang.Object.notify()
public final native void java.lang.Object.notifyAll()
--------------------------7. 方法调用-----------------------------------------
调用getSalary()方法
3600
null
4800
---------------------------8. 利用反射创建数组---------------------------------
hello</p></blockquote> <h3 id="参考"><a href="#参考" aria-hidden="true" class="header-anchor">#</a> 参考</h3> <ol><li><a href="https://www.sczyh30.com/posts/Java/java-reflection-1/#8%E3%80%81%E5%88%A9%E7%94%A8%E5%8F%8D%E5%B0%84%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84" target="_blank" rel="noopener noreferrer">深入解析Java反射（1） - 基础<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/sunfromeast/docs/edit/master/docs/java/javabase/2019-10-31-反射.md" target="_blank" rel="noopener noreferrer">编辑文档</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2020-6-9 10:04:27 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/java/javabase/" class="prev router-link-active">
          前言
        </a></span> <span class="next"><a href="/docs/java/javabase/2020-6-7-接口.html">
          接口基础
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/docs/assets/js/app.98b1b838.js" defer></script><script src="/docs/assets/js/2.fbd0f029.js" defer></script><script src="/docs/assets/js/37.e46bd7b3.js" defer></script>
  </body>
</html>
