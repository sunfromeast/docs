<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>简单范例 | YGTAO</title>
    <meta name="description" content="非学无以广才，非志无以成学">
    
    
    <link rel="preload" href="/docs/assets/css/0.styles.430309d1.css" as="style"><link rel="preload" href="/docs/assets/js/app.98b1b838.js" as="script"><link rel="preload" href="/docs/assets/js/2.fbd0f029.js" as="script"><link rel="preload" href="/docs/assets/js/47.8d42c32f.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.7e9ca6bf.js"><link rel="prefetch" href="/docs/assets/js/11.e4324770.js"><link rel="prefetch" href="/docs/assets/js/12.d1b931cd.js"><link rel="prefetch" href="/docs/assets/js/13.e3913e7d.js"><link rel="prefetch" href="/docs/assets/js/14.481621c4.js"><link rel="prefetch" href="/docs/assets/js/15.1be8de18.js"><link rel="prefetch" href="/docs/assets/js/16.3e052bc3.js"><link rel="prefetch" href="/docs/assets/js/17.90812fdd.js"><link rel="prefetch" href="/docs/assets/js/18.051948c5.js"><link rel="prefetch" href="/docs/assets/js/19.a628549a.js"><link rel="prefetch" href="/docs/assets/js/20.47ca6f8b.js"><link rel="prefetch" href="/docs/assets/js/21.4987dc80.js"><link rel="prefetch" href="/docs/assets/js/22.277c3ac0.js"><link rel="prefetch" href="/docs/assets/js/23.8f1d3525.js"><link rel="prefetch" href="/docs/assets/js/24.58c831bf.js"><link rel="prefetch" href="/docs/assets/js/25.3cf34719.js"><link rel="prefetch" href="/docs/assets/js/26.29504454.js"><link rel="prefetch" href="/docs/assets/js/27.0283fa1f.js"><link rel="prefetch" href="/docs/assets/js/28.d9581f85.js"><link rel="prefetch" href="/docs/assets/js/29.bd14f7a0.js"><link rel="prefetch" href="/docs/assets/js/3.685d3d93.js"><link rel="prefetch" href="/docs/assets/js/30.13ca16a9.js"><link rel="prefetch" href="/docs/assets/js/31.b60cff58.js"><link rel="prefetch" href="/docs/assets/js/32.8224a326.js"><link rel="prefetch" href="/docs/assets/js/33.329ea19d.js"><link rel="prefetch" href="/docs/assets/js/34.0643ae8a.js"><link rel="prefetch" href="/docs/assets/js/35.f423a121.js"><link rel="prefetch" href="/docs/assets/js/36.e1ab1f2e.js"><link rel="prefetch" href="/docs/assets/js/37.e46bd7b3.js"><link rel="prefetch" href="/docs/assets/js/38.810db745.js"><link rel="prefetch" href="/docs/assets/js/39.7f03ade6.js"><link rel="prefetch" href="/docs/assets/js/4.b33a4828.js"><link rel="prefetch" href="/docs/assets/js/40.6d65eeea.js"><link rel="prefetch" href="/docs/assets/js/41.e5d2db89.js"><link rel="prefetch" href="/docs/assets/js/42.0618af06.js"><link rel="prefetch" href="/docs/assets/js/43.feddb362.js"><link rel="prefetch" href="/docs/assets/js/44.7e8f1637.js"><link rel="prefetch" href="/docs/assets/js/45.60a8cb44.js"><link rel="prefetch" href="/docs/assets/js/46.5969b6a6.js"><link rel="prefetch" href="/docs/assets/js/48.6d5a4798.js"><link rel="prefetch" href="/docs/assets/js/49.33bdd943.js"><link rel="prefetch" href="/docs/assets/js/5.6c13e633.js"><link rel="prefetch" href="/docs/assets/js/50.ad999b46.js"><link rel="prefetch" href="/docs/assets/js/51.696fe0f8.js"><link rel="prefetch" href="/docs/assets/js/52.dc345021.js"><link rel="prefetch" href="/docs/assets/js/53.0ff3d1fa.js"><link rel="prefetch" href="/docs/assets/js/54.f2a30034.js"><link rel="prefetch" href="/docs/assets/js/55.9a115f86.js"><link rel="prefetch" href="/docs/assets/js/56.fc5f8a21.js"><link rel="prefetch" href="/docs/assets/js/57.72313323.js"><link rel="prefetch" href="/docs/assets/js/6.4941188b.js"><link rel="prefetch" href="/docs/assets/js/7.4e14eb19.js"><link rel="prefetch" href="/docs/assets/js/8.b2d53e98.js"><link rel="prefetch" href="/docs/assets/js/9.a766f1bb.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.430309d1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">YGTAO</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Java相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/java/javabase/" class="nav-link">Java基础</a></li><li class="dropdown-subitem"><a href="/docs/java/spring/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/docs/java/springboot/" class="nav-link">SpringBoot</a></li><li class="dropdown-subitem"><a href="/docs/java/springcloud/" class="nav-link">SpringCloud</a></li></ul></li><li class="dropdown-item"><h4>进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/linux/linuxbase/.html" class="nav-link">Java虚拟机</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Linux相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/linux/linuxbase/" class="nav-link router-link-active">Linux基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">容器云相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Kubernetes相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/containercloud/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/docs/containercloud/kubernetes/" class="nav-link">Kubernetes</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/docs/frontend/" class="nav-link">前端相关</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">源码</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/sourcecode/springboot/" class="nav-link">SpringBoot源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/tools/vuepress/" class="nav-link">vuepress使用</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/others/offer/" class="nav-link">剑指offer</a></li></ul></div></div> <a href="https://github.com/sunfromeast/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Java相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/java/javabase/" class="nav-link">Java基础</a></li><li class="dropdown-subitem"><a href="/docs/java/spring/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/docs/java/springboot/" class="nav-link">SpringBoot</a></li><li class="dropdown-subitem"><a href="/docs/java/springcloud/" class="nav-link">SpringCloud</a></li></ul></li><li class="dropdown-item"><h4>进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/linux/linuxbase/.html" class="nav-link">Java虚拟机</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Linux相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/linux/linuxbase/" class="nav-link router-link-active">Linux基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">容器云相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Kubernetes相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/containercloud/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/docs/containercloud/kubernetes/" class="nav-link">Kubernetes</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/docs/frontend/" class="nav-link">前端相关</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">源码</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/sourcecode/springboot/" class="nav-link">SpringBoot源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/tools/vuepress/" class="nav-link">vuepress使用</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/others/offer/" class="nav-link">剑指offer</a></li></ul></div></div> <a href="https://github.com/sunfromeast/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/linux/linuxbase/" class="sidebar-link">前言</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>shell和shell script</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/linux/linuxbase/2019-9-2-管道命令.html" class="sidebar-link">管道命令</a></li><li><a href="/docs/linux/linuxbase/2019-9-4-正则表达式.html" class="sidebar-link">正则表达式</a></li><li><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html" class="active sidebar-link">Shell Script</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#简单范例" class="sidebar-link">简单范例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#交互式脚本" class="sidebar-link">交互式脚本</a></li><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#数值运算" class="sidebar-link">数值运算</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#script的执行方式区别" class="sidebar-link">script的执行方式区别</a></li><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#test测试命令" class="sidebar-link">test测试命令</a></li><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#判断符合" class="sidebar-link">判断符合[]</a></li><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#shell-script默认变量（-0-1-）" class="sidebar-link">Shell Script默认变量（$0,$1...）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#shift变量偏移" class="sidebar-link">shift变量偏移</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#条件判断" class="sidebar-link">条件判断</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#if-then" class="sidebar-link">if...then</a></li><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#case-in" class="sidebar-link">case...in</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#函数function" class="sidebar-link">函数function</a></li><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#循环" class="sidebar-link">循环</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#while-do-done" class="sidebar-link">while...do...done</a></li><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#until-do-done" class="sidebar-link">until...do...done</a></li><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#for-do-done" class="sidebar-link">for...do...done</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/linux/linuxbase/2019-9-5-shellscript.html#shell-script追踪调试" class="sidebar-link">shell script追踪调试</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工具总结</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="简单范例"><a href="#简单范例" aria-hidden="true" class="header-anchor">#</a> 简单范例</h2> <h3 id="交互式脚本"><a href="#交互式脚本" aria-hidden="true" class="header-anchor">#</a> 交互式脚本</h3> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>$ touch test.sh &amp;&amp; chmod +x test.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>向test.sh写入内容：</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>cat &gt; test.sh &lt;&lt;EOF
<span class="token title important"><span class="token punctuation">#</span>!/bin/bash</span>

read -p &quot;please input you name:&quot; name  #提示用户输入
echo -e &quot;Your name is: \$name&quot;   # 结果由屏幕输出
EOF
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="数值运算"><a href="#数值运算" aria-hidden="true" class="header-anchor">#</a> 数值运算</h3> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>cat &gt; test.sh &lt;&lt;EOF
<span class="token title important"><span class="token punctuation">#</span>!/bin/bash</span>
num1=3
num2=2
total=\$((\$num1 * \$num2))
echo \$total
EOF
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p><font color="red">注意：</font></p> <p>使用cat &gt; &lt;&lt;EOF向文件中写入数据时，要将$转义</p></blockquote> <h2 id="script的执行方式区别"><a href="#script的执行方式区别" aria-hidden="true" class="header-anchor">#</a> script的执行方式区别</h2> <p><code>./script或者sh script</code>方式，父进程bash会开辟一个子进程bash，脚本会在子进程bash环境下执行，脚本执行结束，子进程的bash内的所有数据会删除。</p> <p><code>source script</code>方式，脚本会在父进程中执行。</p> <h2 id="test测试命令"><a href="#test测试命令" aria-hidden="true" class="header-anchor">#</a> test测试命令</h2> <p>某个文件名的文件类型判断：</p> <table><thead><tr><th>测试的标志</th> <th>代表意义</th></tr></thead> <tbody><tr><td>-e</td> <td>文件名是否存在</td></tr> <tr><td>-f</td> <td>文件名是否存在，且为文件（file）</td></tr> <tr><td>-d</td> <td>文件名是否存在，且为目录（directory）</td></tr> <tr><td>-b</td> <td>文件名是否存在，且为块设备</td></tr> <tr><td>-c</td> <td>文件名是否存在，且为character设备</td></tr> <tr><td>-S</td> <td>文件名是否存在，且为Socket文件</td></tr> <tr><td>-p</td> <td>文件名是否存在，且为FIFO文件</td></tr> <tr><td>-L</td> <td>文件名是否存在，且为连接文件</td></tr></tbody></table> <p>文件权限检测：</p> <table><thead><tr><th>测试的标志</th> <th>代表意义</th></tr></thead> <tbody><tr><td>-r</td> <td>文件名是否存在，且有可读权限</td></tr> <tr><td>-w</td> <td>文件名是否存在，且有可写权限</td></tr> <tr><td>-x</td> <td>文件名是否存在，且有可执行权限</td></tr> <tr><td>-u</td> <td>文件名是否存在，且有SUID属性</td></tr> <tr><td>-g</td> <td>文件名是否存在，且有SGID属性</td></tr> <tr><td>-k</td> <td>文件名是否存在，且有sticky bit权限</td></tr> <tr><td></td> <td>文件名是否存在，且为非空白文件</td></tr></tbody></table> <p>两个文件之间的比较：</p> <table><thead><tr><th>测试标志</th> <th>代表意义</th></tr></thead> <tbody><tr><td>-nt</td> <td>file1比file2新</td></tr> <tr><td>-ot</td> <td>file1比file2旧</td></tr> <tr><td>-ef</td> <td>同一个文件</td></tr></tbody></table> <p>整数之间的比较：</p> <table><thead><tr><th>测试的标志</th> <th>代表意义</th></tr></thead> <tbody><tr><td>-eq</td> <td>两数值相等</td></tr> <tr><td>-ne</td> <td>两数值不等</td></tr> <tr><td>-gt</td> <td>n1 &gt; n2</td></tr> <tr><td>-lt</td> <td>n1 &lt; n2</td></tr> <tr><td>-ge</td> <td>n1 &gt;= n2</td></tr> <tr><td>-le</td> <td>n1 &lt;= n2</td></tr></tbody></table> <p>判定字符串：</p> <table><thead><tr><th>测试的标志</th> <th>代表意义</th></tr></thead> <tbody><tr><td>-z</td> <td>字符串是否为0，空串为true</td></tr> <tr><td>-n</td> <td>字符串不为0，空串false</td></tr> <tr><td>=</td> <td>字符串相等</td></tr> <tr><td>!=</td> <td>字符串不相等</td></tr></tbody></table> <p>多重条件：</p> <table><thead><tr><th>测试标志</th> <th>代表意义</th></tr></thead> <tbody><tr><td>-a</td> <td>两个条件同时成立，test -r file -a -w file ，file同时具有可读可写权限</td></tr> <tr><td>-o</td> <td>任何条件成立，test -r file -o -w file ，file具有可读或可写权限</td></tr> <tr><td>！</td> <td>反向状态</td></tr></tbody></table> <h2 id="判断符合"><a href="#判断符合" aria-hidden="true" class="header-anchor">#</a> 判断符合[]</h2> <p>例如：</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>$ [ -z &quot;$HOME&quot;] ; echo $?
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p><font color="red">使用注意：</font></p> <ol><li>中括号内的每个组件都需要用空格隔开，目的：防止和正则通配冲突</li> <li>中括号内的变量，最好用双引号或括号括起来</li> <li>中括号内的常量，最好以单或双引号括起来</li></ol></blockquote> <h2 id="shell-script默认变量（-0-1-）"><a href="#shell-script默认变量（-0-1-）" aria-hidden="true" class="header-anchor">#</a> Shell Script默认变量（$0,$1...）</h2> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>$ command opt1, opt2, opt3...
   $0      $1    $2     $3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>script内可以调用的特殊变量：</p> <ul><li>$#：代表命令后面接的参数个数</li> <li>$@：代表&quot;$1&quot;, &quot;$2&quot;, &quot;$3&quot;之意，每个变量独立（用双引号括起来）</li> <li>$*：代表“$1c$2c$3c$4”，c为分隔符，默认为空格，本例代表&quot;$1 $2 $3 $4&quot;</li></ul> <p>使用示例：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;The script name is : <span class="token variable">$0</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;The parameter number is : <span class="token variable">$#</span>&quot;</span>
<span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$#</span>&quot;</span> -lt <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;The parameter number is less than 2. stop here.&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span> <span class="token number">0</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Your whole parameter is: <span class="token variable">$@</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Your first parameter is: <span class="token variable">$1</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>测试执行：</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>[root@ygtao ~]# ./test1.sh 2 4 6
The script name is : ./test1.sh
The parameter number is : 3
Your whole parameter is: 2 4 6
Your first parameter is: 2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="shift变量偏移"><a href="#shift变量偏移" aria-hidden="true" class="header-anchor">#</a> shift变量偏移</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>//输入的变量1,2,3,4,5
<span class="token builtin class-name">shift</span>  <span class="token comment">#变量为2,3,4,5</span>
<span class="token builtin class-name">shift</span> <span class="token number">3</span> <span class="token comment">#变量为4,5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="条件判断"><a href="#条件判断" aria-hidden="true" class="header-anchor">#</a> 条件判断</h2> <h3 id="if-then"><a href="#if-then" aria-hidden="true" class="header-anchor">#</a> if...then</h3> <p><font color="red">单层、简单条件判断式：</font></p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>if [ 条件表达式 ]; then
	条件成立，执行命令
fi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span>!/bin/bash</span>
read -p &quot;input (y/N):&quot; temp
if [ &quot;$temp&quot; == &quot;y&quot; ] || [ &quot;$temp&quot; == &quot;Y&quot; ]; then
	echo &quot;Ok,continue&quot;
	exit 0
fi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><font color="red">多重、复杂条件判断式：</font></p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>if [ 条件判断式 ]; then
	条件成立，执行内容
else
	条件不成立，执行内容
fi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>if [ 条件判断式 ]; then 
	条件成立，执行内容
elif [ 条件判断2 ]; then
	条件2成立，执行内容
else 
	上述条件均不成立，执行内容
fi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="case-in"><a href="#case-in" aria-hidden="true" class="header-anchor">#</a> case...in</h3> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>case $变量名 in 
	&quot;第一个变量内容&quot;)
		程序段
		;;
	&quot;第二个变量内容&quot;)
		程序段
		;;
	*)
	exit 1
	;;
esac
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>使用示例：</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span>!/bin/bash</span>
case $1 in 
	&quot;hello&quot;)
		echo &quot;$1, how are you?&quot;
		;;
	&quot;&quot;)
		echo &quot;you must input a parameter. ex&gt; {$0 someword}&quot;
		;;
	*)
		echo &quot;Usage $0 {hello}&quot;
		;;
esac
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="函数function"><a href="#函数function" aria-hidden="true" class="header-anchor">#</a> 函数function</h2> <p>shell script执行方式是由上而下、从左而右，function的设置一定要在程序最前面，否则找不到程序段。</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>function fname() {
	程序段
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>注意：</p> <ol><li>在函数中也可以使用$1,$2...，这个$1,$2是基于函数参数的，和shell script的$1,$2不同</li></ol></blockquote> <h2 id="循环"><a href="#循环" aria-hidden="true" class="header-anchor">#</a> 循环</h2> <h3 id="while-do-done"><a href="#while-do-done" aria-hidden="true" class="header-anchor">#</a> while...do...done</h3> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>while [ condition ] 
do
	程序段
done
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>使用示例：</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span>!/bin/bash</span>
while [ &quot;$temp&quot; != &quot;yes&quot; -a &quot;$temp&quot; != &quot;YES&quot;] 
do
 read -p &quot;please input yes/YES to stop the program.&quot; temp
done
echo &quot;OK!,you input the correct answer&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="until-do-done"><a href="#until-do-done" aria-hidden="true" class="header-anchor">#</a> until...do...done</h3> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>until [ condition ]
do
  程序段落
done
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>使用示例：</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span>!/bin/bash</span>
until [ &quot;$temp&quot; == &quot;yes&quot; -o &quot;$temp&quot; == &quot;YES&quot; ]
do
 read -p &quot;please input yes/YES to stop the program.&quot; temp
done
echo &quot;OK!,you input the correct answer&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="for-do-done"><a href="#for-do-done" aria-hidden="true" class="header-anchor">#</a> for...do...done</h3> <p><font color="red">写法1：</font></p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>for var in con1 con2 con3
do 
	程序段
done
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>其中：</p> <p>第一次循环，$var内容为con1</p> <p>第二次循环，$var内容为con2</p> <p>第三次循环，$var内容为con3</p></blockquote> <p>使用示例：</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span>!/bin/bash</span>
users=$(cut -d &quot;:&quot; -f1 /etc/passwd)
echo $users
for username in $users
do
 id $username
 echo $id
done

//连续数字，从1到100
for num in $(seq 1 100)
...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><font color="red">写法2：</font></p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>for (( 初始值； 限制条件； 执行步长 ))
do 
	程序段
done
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>使用示例：</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span>!/bin/bash</span>
s=0
for ((i=1; i&lt;=10; i=i+1))
do
 s=$(($s + $i))
done
echo $s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="shell-script追踪调试"><a href="#shell-script追踪调试" aria-hidden="true" class="header-anchor">#</a> shell script追踪调试</h2> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>sh [-nxv] scripts.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>其中：</p> <p>-n：不执行脚本，仅检查语法问题</p> <p>-v：执行脚本前，先将脚本内容输出到屏幕上</p> <p>-x：使用导的脚本内容显示到屏幕上</p></blockquote></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/sunfromeast/docs/edit/master/docs/linux/linuxbase/2019-9-5-shellscript.md" target="_blank" rel="noopener noreferrer">编辑文档</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2020-6-9 10:04:27 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/linux/linuxbase/2019-9-4-正则表达式.html" class="prev">
          正则表达式
        </a></span> <span class="next"><a href="/docs/linux/linuxbase/2019-8-29-openssl.html">
          openssl
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/docs/assets/js/app.98b1b838.js" defer></script><script src="/docs/assets/js/2.fbd0f029.js" defer></script><script src="/docs/assets/js/47.8d42c32f.js" defer></script>
  </body>
</html>
